import{r as t,j as e}from"./animations-w5RCdeks.js";import{b as Ae,c as I,d as P,o as Ue,p as ee,B as Q}from"./index-Cjg6ZIXX.js";import{R as Fe,b as Me,P as Le,C as ae,a as ze,X as Oe,T as te,D as re,O as se,e as qe,n as Be,h as K,l as Ge,j as ne,i as J,bU as Ke,bV as He,z as Ve,a4 as We,bZ as Xe,b_ as Z,bX as Qe,S as Y,bD as Je,bP as Ze}from"./ui-vuw2n6JC.js";import"./charts-qq9cUDqM.js";const fa=()=>{const[r,o]=t.useState([]),[c,p]=t.useState(null),[l,u]=t.useState(!0),[N,g]=t.useState(null),[x,b]=t.useState({}),[E,k]=t.useState({}),[w,S]=t.useState([]),{toast:y}=Ae(),j=a=>{if(!a)return"/placeholder.svg";if(a.startsWith("http"))return a;const s="https://backend-production-956f.up.railway.app",n=a.startsWith("/")?a:`/${a}`;return`${s}${n}`},_=t.useCallback(a=>({...a,foto_principal_url:a.foto_principal_url?j(a.foto_principal_url):"/placeholder.svg",pdf_url:a.pdf_url?j(a.pdf_url):"",puntuacion_promedio:a.puntuacion_promedio?Number(a.puntuacion_promedio):0,total_calificaciones:a.total_calificaciones?Number(a.total_calificaciones):0,total_experiencias:a.total_experiencias?Number(a.total_experiencias):0}),[]),v=t.useCallback(a=>({...a,url_foto:a.url_foto?j(a.url_foto):"/placeholder.svg"}),[]),h=a=>{const s=a;return s?.response?.data?.error||s?.message||"Error desconocido"},D=t.useCallback(async a=>{try{u(!0),g(null);const s=new URLSearchParams;a?.categoria&&s.append("categoria",a.categoria),a?.pagina&&s.append("pagina",a.pagina.toString()),a?.limite&&s.append("limite",a.limite.toString()),a?.orden&&s.append("orden",a.orden);const n=s.toString(),i=n?`/api/lugares?${n}`:"/api/lugares",d=await I.get(i),R=(d.data.lugares||[]).map(_);return console.log("üì∏ Lugares cargados:",R.length),o(R),{lugares:R,total:d.data.total,pagina:d.data.pagina,totalPaginas:d.data.totalPaginas}}catch(s){const n=h(s);throw g(n),y({title:"Error",description:n,variant:"destructive"}),new Error(n)}finally{u(!1)}},[y,_]),m=t.useCallback(async a=>{try{console.log("üîÑ [usePlaces] Obteniendo galer√≠a completa para placeId:",a);const s=await I.get(`/api/lugares/${a}/galeria`);if(console.log("üì∏ [usePlaces] Respuesta de galer√≠a:",s.data),!s.data.imagenes||!Array.isArray(s.data.imagenes))return console.warn("‚ö†Ô∏è No se encontraron im√°genes en la galer√≠a o formato incorrecto"),[];const n=s.data.imagenes.map(i=>({...i,url_foto:i.url_foto?j(i.url_foto):"/placeholder.svg"}));return console.log("‚úÖ [usePlaces] Galer√≠a procesada:",n.length,"im√°genes"),n}catch(s){console.error("‚ùå [usePlaces] Error obteniendo galer√≠a:",s);const n=h(s);try{console.log("üîÑ [usePlaces] Intentando obtener fotos b√°sicas...");const i=await I.get(`/api/lugares/${a}`);if(i.data.fotos&&Array.isArray(i.data.fotos)){const d=i.data.fotos.map(f=>({id:f.id,url_foto:f.url_foto?j(f.url_foto):"/placeholder.svg",descripcion:f.descripcion||`Imagen de ${i.data.lugar.nombre}`,es_principal:f.es_principal,orden:f.orden,creado_en:f.creado_en,ancho_imagen:f.ancho_imagen,alto_imagen:f.alto_imagen,tama√±o_archivo:f.tama√±o_archivo,tipo_archivo:f.tipo_archivo}));return console.log("‚úÖ [usePlaces] Usando fotos b√°sicas como fallback:",d.length),d}}catch(i){console.error("‚ùå [usePlaces] Fallback tambi√©n fall√≥:",i)}throw new Error(n)}},[]),A=t.useCallback(async a=>{try{u(!0),g(null),console.log("üîÑ [usePlaces] Obteniendo detalles del lugar:",a);const s=await I.get(`/api/lugares/${a}`);if(!s.data.lugar)throw new Error("Lugar no encontrado");const n=_(s.data.lugar),i=(s.data.fotos||[]).map(v);console.log("üì∏ [usePlaces] Fotos b√°sicas obtenidas:",i.length);let d=[];try{d=await m(a),console.log("‚úÖ [usePlaces] Galer√≠a completa cargada:",d.length,"im√°genes")}catch(R){console.warn("‚ö†Ô∏è [usePlaces] No se pudo cargar la galer√≠a completa, usando fotos b√°sicas:",R),d=i.map(C=>({id:C.id,url_foto:C.url_foto,descripcion:C.descripcion,es_principal:C.es_principal,orden:C.orden,creado_en:C.creado_en,ancho_imagen:C.ancho_imagen,alto_imagen:C.alto_imagen,tama√±o_archivo:C.tama√±o_archivo,tipo_archivo:C.tipo_archivo}))}const f={lugar:{...n,gallery_images:d},fotos:i,galeria:d};return console.log("‚úÖ [usePlaces] Detalles del lugar procesados:",{lugar:n.nombre,fotos:i.length,galeria:d.length}),p(f),f}catch(s){const n=h(s);throw console.error("‚ùå [usePlaces] Error obteniendo lugar:",n),g(n),y({title:"Error",description:n,variant:"destructive"}),new Error(n)}finally{u(!1)}},[y,_,v,m]),L=t.useCallback(async a=>{try{const n=(await I.get(`/api/calificaciones/lugar/${a}/mi-calificacion`)).data.calificacion;if(n&&typeof n.calificacion=="number"){const i={id:n.id,calificacion:Number(n.calificacion),comentario:n.comentario,creado_en:n.creado_en,actualizado_en:n.actualizado_en};return b(d=>({...d,[a]:i})),i}return null}catch(s){return console.error("Error fetching user rating:",s),null}},[]),z=t.useCallback(async(a,s,n)=>{try{if(k(F=>({...F,[a]:!0})),!(localStorage.getItem("rating_terms_accepted")==="true"))throw new Error("TERMS_REQUIRED");const d={lugarId:a,calificacion:s,comentario:n},R=(await I.post("/api/calificaciones",d)).data,C={id:R.calificacion?.id||"",calificacion:s,comentario:n,creado_en:R.calificacion?.creado_en||new Date().toISOString(),actualizado_en:R.calificacion?.actualizado_en||new Date().toISOString()};return b(F=>({...F,[a]:C})),await D(),!0}catch(i){if(i instanceof Error&&i.message==="TERMS_REQUIRED")throw i;const d=h(i);return y({title:"‚ùå Error al calificar",description:d,variant:"destructive"}),!1}finally{k(i=>({...i,[a]:!1}))}},[y,D]),Ne=t.useCallback(async a=>{try{console.log(`üìä Fetching rating stats for place: ${a}`);const i=(await I.get(`/api/calificaciones/lugar/${a}/estadisticas`)).data.calificaciones||[];if(console.log(`üìä Raw ratings data for place ${a}:`,i),!Array.isArray(i))return console.error("Expected array of ratings, got:",i),null;const d=i.map(U=>{const $=U.calificacion;return console.log("‚≠ê Rating value:",$),Number($)});console.log("üìä Processed ratings values:",d);const f=d.length,R=d.reduce((U,$)=>U+$,0),C=f>0?Number((R/f).toFixed(1)):0,F=[1,2,3,4,5].map(U=>{const $=d.filter(Te=>Te===U).length,X=f>0?Number(($/f*100).toFixed(1)):0;return console.log(`üìä Distribuci√≥n ${U} estrellas:`,{cantidad:$,porcentaje:X}),{calificacion:U,cantidad:$,porcentaje:X}}),W={promedio:C,total:f,distribucion:F};return console.log(`üìä Final stats for place ${a}:`,W),W}catch(s){console.error("‚ùå Error fetching rating stats:",s);const n=r.find(i=>i.id===a);if(n&&n.puntuacion_promedio>0){const i={promedio:n.puntuacion_promedio,total:n.total_calificaciones,distribucion:[1,2,3,4,5].map(d=>({calificacion:d,cantidad:0,porcentaje:0}))};return console.log(`üìä Using fallback stats for ${a}:`,i),i}return null}},[r]),O=t.useCallback(async()=>{try{const s=(await I.get("/api/lugares/categorias")).data.categorias||[];return S(s),s}catch(a){return console.error("Error fetching categories:",a),[]}},[]),_e=t.useCallback(async a=>await m(a),[m]),Ce=t.useCallback(a=>a.foto_principal_url||"/placeholder.svg",[]),we=t.useCallback(a=>a.pdf_url||null,[]),Pe=t.useCallback(a=>a.gallery_images||[],[]),Ee=t.useCallback(a=>{if(!a.pdf_url)return null;if(a.pdf_url.startsWith("http"))return a.pdf_url;const s="https://backend-production-956f.up.railway.app",n=a.pdf_url.startsWith("/")?a.pdf_url:`/${a.pdf_url}`;return`${s}${n}`},[]),De=t.useCallback(a=>{const s=a.gallery_images||[];return s.find(n=>n.es_principal)||s[0]||null},[]),Re=t.useCallback(a=>!!x[a],[x]),Se=t.useCallback(a=>x[a]?.calificacion||null,[x]),q=t.useCallback(a=>{if(!a)return null;try{const s=/(-?\d+\.\d+),\s*(-?\d+\.\d+)/,n=a.match(s);if(n&&n[1]&&n[2]){const i=parseFloat(n[1]),d=parseFloat(n[2]);if(i>=19.8&&i<=20&&d>=-97.6&&d<=-97.5)return{lat:i,lng:d}}return null}catch(s){return console.error("Error extrayendo coordenadas:",s),null}},[]),$e=t.useCallback(a=>{const s=q(a.ubicacion);return s?{address:a.ubicacion,lat:s.lat,lng:s.lng,hasCoordinates:!0}:{address:a.ubicacion||"San Juan Tahitic, Puebla",lat:19.939088388469845,lng:-97.55492145455479,hasCoordinates:!1}},[q]),Ie=t.useCallback(a=>{b(s=>{const n={...s};return delete n[a],n})},[]);return t.useEffect(()=>{D()},[D]),t.useEffect(()=>{O()},[O]),{places:r,currentPlace:c,loading:l,error:N,categories:w,userRatings:x,isRating:E,fetchPlaces:D,fetchPlaceById:A,ratePlace:z,getUserRating:L,getRatingStats:Ne,fetchCategories:O,getPlaceGallery:_e,getMainPhoto:Ce,getPlacePdf:we,getGalleryPhotos:Pe,getMainPhotoFromGallery:De,hasUserRated:Re,getUserCurrentRating:Se,clearUserRating:Ie,getPlacePdfUrl:Ee,extractCoordinatesFromUbicacion:q,getPlaceLocation:$e,refetch:D,resetError:()=>g(null),clearCurrentPlace:()=>p(null)}},Ye=Fe,xa=Me,ea=Le,oe=t.forwardRef(({className:r,...o},c)=>e.jsx(se,{ref:c,className:P("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...o}));oe.displayName=se.displayName;const ce=t.forwardRef(({className:r,children:o,...c},p)=>e.jsxs(ea,{children:[e.jsx(oe,{}),e.jsxs(ae,{ref:p,className:P("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...c,children:[o,e.jsxs(ze,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Oe,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ce.displayName=ae.displayName;const ie=({className:r,...o})=>e.jsx("div",{className:P("flex flex-col space-y-1.5 text-center sm:text-left",r),...o});ie.displayName="DialogHeader";const le=({className:r,...o})=>e.jsx("div",{className:P("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...o});le.displayName="DialogFooter";const de=t.forwardRef(({className:r,...o},c)=>e.jsx(te,{ref:c,className:P("text-lg font-semibold leading-none tracking-tight",r),...o}));de.displayName=te.displayName;const ue=t.forwardRef(({className:r,...o},c)=>e.jsx(re,{ref:c,className:P("text-sm text-muted-foreground",r),...o}));ue.displayName=re.displayName;var aa=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ta=aa.reduce((r,o)=>{const c=Ue(`Primitive.${o}`),p=t.forwardRef((l,u)=>{const{asChild:N,...g}=l,x=N?c:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(x,{...g,ref:u})});return p.displayName=`Primitive.${o}`,{...r,[o]:p}},{}),ra="Label",me=t.forwardRef((r,o)=>e.jsx(ta.label,{...r,ref:o,onMouseDown:c=>{c.target.closest("button, input, select, textarea")||(r.onMouseDown?.(c),!c.defaultPrevented&&c.detail>1&&c.preventDefault())}}));me.displayName=ra;var pe=me;const sa=ee("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),B=t.forwardRef(({className:r,...o},c)=>e.jsx(pe,{ref:c,className:P(sa(),r),...o}));B.displayName=pe.displayName;const na=ee("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ge=t.forwardRef(({className:r,variant:o,...c},p)=>e.jsx("div",{ref:p,role:"alert",className:P(na({variant:o}),r),...c}));ge.displayName="Alert";const oa=t.forwardRef(({className:r,...o},c)=>e.jsx("h5",{ref:c,className:P("mb-1 font-medium leading-none tracking-tight",r),...o}));oa.displayName="AlertTitle";const fe=t.forwardRef(({className:r,...o},c)=>e.jsx("div",{ref:c,className:P("text-sm [&_p]:leading-relaxed",r),...o}));fe.displayName="AlertDescription";var M="Checkbox",[ca]=qe(M),[ia,H]=ca(M);function la(r){const{__scopeCheckbox:o,checked:c,children:p,defaultChecked:l,disabled:u,form:N,name:g,onCheckedChange:x,required:b,value:E="on",internal_do_not_use_render:k}=r,[w,S]=Ge({prop:c,defaultProp:l??!1,onChange:x,caller:M}),[y,j]=t.useState(null),[_,v]=t.useState(null),h=t.useRef(!1),D=y?!!N||!!y.closest("form"):!0,m={checked:w,disabled:u,setChecked:S,control:y,setControl:j,name:g,form:N,value:E,hasConsumerStoppedPropagationRef:h,required:b,defaultChecked:T(l)?!1:l,isFormControl:D,bubbleInput:_,setBubbleInput:v};return e.jsx(ia,{scope:o,...m,children:da(k)?k(m):p})}var xe="CheckboxTrigger",he=t.forwardRef(({__scopeCheckbox:r,onKeyDown:o,onClick:c,...p},l)=>{const{control:u,value:N,disabled:g,checked:x,required:b,setControl:E,setChecked:k,hasConsumerStoppedPropagationRef:w,isFormControl:S,bubbleInput:y}=H(xe,r),j=ne(l,E),_=t.useRef(x);return t.useEffect(()=>{const v=u?.form;if(v){const h=()=>k(_.current);return v.addEventListener("reset",h),()=>v.removeEventListener("reset",h)}},[u,k]),e.jsx(K.button,{type:"button",role:"checkbox","aria-checked":T(x)?"mixed":x,"aria-required":b,"data-state":ke(x),"data-disabled":g?"":void 0,disabled:g,value:N,...p,ref:j,onKeyDown:J(o,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:J(c,v=>{k(h=>T(h)?!0:!h),y&&S&&(w.current=v.isPropagationStopped(),w.current||v.stopPropagation())})})});he.displayName=xe;var V=t.forwardRef((r,o)=>{const{__scopeCheckbox:c,name:p,checked:l,defaultChecked:u,required:N,disabled:g,value:x,onCheckedChange:b,form:E,...k}=r;return e.jsx(la,{__scopeCheckbox:c,checked:l,defaultChecked:u,disabled:g,required:N,onCheckedChange:b,name:p,form:E,value:x,internal_do_not_use_render:({isFormControl:w})=>e.jsxs(e.Fragment,{children:[e.jsx(he,{...k,ref:o,__scopeCheckbox:c}),w&&e.jsx(je,{__scopeCheckbox:c})]})})});V.displayName=M;var be="CheckboxIndicator",ve=t.forwardRef((r,o)=>{const{__scopeCheckbox:c,forceMount:p,...l}=r,u=H(be,c);return e.jsx(Be,{present:p||T(u.checked)||u.checked===!0,children:e.jsx(K.span,{"data-state":ke(u.checked),"data-disabled":u.disabled?"":void 0,...l,ref:o,style:{pointerEvents:"none",...r.style}})})});ve.displayName=be;var ye="CheckboxBubbleInput",je=t.forwardRef(({__scopeCheckbox:r,...o},c)=>{const{control:p,hasConsumerStoppedPropagationRef:l,checked:u,defaultChecked:N,required:g,disabled:x,name:b,value:E,form:k,bubbleInput:w,setBubbleInput:S}=H(ye,r),y=ne(c,S),j=Ke(u),_=He(p);t.useEffect(()=>{const h=w;if(!h)return;const D=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(D,"checked").set,L=!l.current;if(j!==u&&A){const z=new Event("click",{bubbles:L});h.indeterminate=T(u),A.call(h,T(u)?!1:u),h.dispatchEvent(z)}},[w,j,u,l]);const v=t.useRef(T(u)?!1:u);return e.jsx(K.input,{type:"checkbox","aria-hidden":!0,defaultChecked:N??v.current,required:g,disabled:x,name:b,value:E,form:k,...o,tabIndex:-1,ref:y,style:{...o.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});je.displayName=ye;function da(r){return typeof r=="function"}function T(r){return r==="indeterminate"}function ke(r){return T(r)?"indeterminate":r?"checked":"unchecked"}const G=t.forwardRef(({className:r,...o},c)=>e.jsx(V,{ref:c,className:P("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...o,children:e.jsx(ve,{className:P("flex items-center justify-center text-current"),children:e.jsx(Ve,{className:"h-4 w-4"})})}));G.displayName=V.displayName;const ha=({isOpen:r,onClose:o,onAccept:c,placeName:p,type:l="rating",title:u,description:N})=>{const[g,x]=t.useState(!1),[b,E]=t.useState(!1);t.useEffect(()=>{r&&(x(!1),E(!1))},[r]);const k=()=>{switch(l){case"experience":return"T√©rminos para Compartir Experiencias";case"rating":default:return"T√©rminos y Condiciones"}},w=()=>{switch(l){case"experience":return`Para compartir tu experiencia en "${p}"`;case"rating":default:return`Para calificar "${p}"`}},S=()=>{switch(l){case"experience":return e.jsx(Ze,{className:"w-6 h-6 text-purple-600"});case"rating":default:return e.jsx(Y,{className:"w-6 h-6 text-blue-600"})}},y=()=>{switch(l){case"experience":return"Entiendo que mi experiencia e im√°genes se asocian a mi navegador actual";case"rating":default:return"Entiendo que mi calificaci√≥n se asocia a mi navegador actual"}},j=t.useCallback(()=>{if(g&&b){try{c();const m=l==="experience"?"experience_terms_accepted":"rating_terms_accepted";localStorage.setItem(m,"true")}catch{}try{o()}catch{}}},[g,b,c,o,l]),_=t.useCallback(()=>{try{o()}catch{}},[o]),v=t.useCallback(m=>{m||_()},[_]),h=t.useCallback(m=>{m.preventDefault()},[]),D=t.useCallback(m=>{m.preventDefault()},[]);return t.useEffect(()=>{const m=A=>{r&&A.key==="Enter"&&g&&b&&(A.preventDefault(),j())};return r&&document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[r,g,b,j]),e.jsx(Ye,{open:r,onOpenChange:v,children:e.jsxs(ce,{className:"sm:max-w-2xl max-h-[90vh] bg-white border-2 border-blue-200 shadow-2xl flex flex-col",onInteractOutside:h,onEscapeKeyDown:D,onPointerDownOutside:m=>m.preventDefault(),children:[e.jsx(ie,{className:"border-b border-gray-200 pb-4 shrink-0",children:e.jsxs(de,{className:"flex items-center gap-3 text-xl font-bold text-gray-900",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${l==="experience"?"bg-purple-100":"bg-blue-100"}`,children:S()}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"truncate",children:u||k()}),e.jsx(ue,{className:"text-sm text-gray-600 mt-1 truncate",children:N||w()})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto pr-4",children:e.jsxs("div",{className:"space-y-6 py-2 px-1",children:[e.jsxs(ge,{className:`${l==="experience"?"bg-purple-50 border-purple-200":"bg-blue-50 border-blue-200"}`,children:[e.jsx(We,{className:`h-5 w-5 ${l==="experience"?"text-purple-600":"text-blue-600"}`}),e.jsx(fe,{className:l==="experience"?"text-purple-800":"text-blue-800",children:l==="experience"?"Tu privacidad es importante. Las im√°genes y experiencias pasan por moderaci√≥n antes de publicarse.":"Tu privacidad es importante para nosotros. Usamos m√©todos seguros para proteger tu informaci√≥n."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-lg text-gray-900 flex items-center gap-2",children:[e.jsx(Xe,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),e.jsx("span",{children:l==="experience"?"¬øC√≥mo funciona el sistema de experiencias?":"¬øC√≥mo funciona el sistema de calificaciones?"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Z,{className:"w-6 h-6 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Identificaci√≥n por Navegador"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Generamos un identificador √∫nico basado en la configuraci√≥n de tu navegador para evitar ",l==="experience"?"contenido":"calificaciones"," duplicados."]})]})]}),e.jsxs("div",{className:"flex items-start gap-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Qe,{className:"w-6 h-6 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Direcci√≥n IP An√≥nima"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Usamos tu direcci√≥n IP de forma an√≥nima para prevenir abusos. ",e.jsx("strong",{children:"No almacenamos tu IP completa"}),"."]})]})]}),e.jsxs("div",{className:"flex items-start gap-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Y,{className:"w-6 h-6 text-purple-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Sin Datos Personales"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["No requerimos informaci√≥n personal para ",l==="experience"?"compartir experiencias":"calificar lugares","."]})]})]}),l==="experience"&&e.jsxs("div",{className:"flex items-start gap-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx(Je,{className:"w-6 h-6 text-purple-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Derechos de Im√°genes"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Debes tener los derechos de las im√°genes que compartes. El contenido inapropiado ser√° eliminado."})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900 border-b pb-2",children:"Pol√≠tica de Privacidad"}),e.jsxs("div",{className:"space-y-3 text-sm bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Recopilaci√≥n:"})," Solo info t√©cnica (hash navegador, IP anonimizada)"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Uso:"})," Exclusivamente para prevenir duplicados"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Almacenamiento:"})," Eliminaci√≥n autom√°tica tras 24 meses"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Compartici√≥n:"})," Nunca compartimos tus datos"]}),l==="experience"&&e.jsxs("div",{children:[e.jsx("strong",{children:"Moderaci√≥n:"})," Todo el contenido pasa por revisi√≥n antes de publicarse"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900 border-b pb-2",children:"Tus Derechos"}),e.jsxs("ul",{className:"space-y-2 text-sm list-disc list-inside bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsxs("li",{children:["Puedes ",l==="experience"?"compartir experiencias":"calificar"," sin cuenta"]}),e.jsxs("li",{children:["Modificar tu ",l==="experience"?"contenido":"calificaci√≥n"," en cualquier momento"]}),e.jsx("li",{children:"Contribuyes a mejorar la experiencia de todos"}),e.jsx("li",{children:"Solicitar eliminaci√≥n de tus datos"}),l==="experience"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Las im√°genes deben ser apropiadas y respetuosas"}),e.jsx("li",{children:"El contenido ser√° moderado antes de su publicaci√≥n"})]})]})]}),e.jsxs("div",{className:"space-y-3 w-full pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg border ${l==="experience"?"bg-purple-50 border-purple-200":"bg-blue-50 border-blue-200"}`,children:[e.jsx(G,{id:"terms",checked:g,onCheckedChange:m=>x(m===!0),className:`mt-0.5 data-[state=checked]:${l==="experience"?"bg-purple-600":"bg-blue-600"}`}),e.jsx(B,{htmlFor:"terms",className:"text-sm font-medium cursor-pointer",children:"Acepto los t√©rminos y condiciones"})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx(G,{id:"understanding",checked:b,onCheckedChange:m=>E(m===!0),className:"mt-0.5 data-[state=checked]:bg-green-600"}),e.jsx(B,{htmlFor:"understanding",className:"text-sm font-medium cursor-pointer",children:y()})]})]})]})}),e.jsxs(le,{className:"flex flex-col border-t pt-4 mt-4 space-y-4 sm:space-y-0 shrink-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:justify-end",children:[e.jsx(Q,{variant:"outline",onClick:_,className:"border-gray-300 text-gray-700 hover:bg-gray-100 flex-1 sm:flex-none",children:"Cancelar"}),e.jsxs(Q,{onClick:j,disabled:!g||!b,className:`bg-gradient-to-r text-white disabled:opacity-50 flex-1 sm:flex-none ${l==="experience"?"from-purple-600 to-purple-700":"from-green-600 to-green-700"}`,children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Aceptar y Continuar"]})]}),e.jsx("div",{className:"text-xs text-gray-500 text-center pt-2 border-t",children:"Al aceptar, confirmas que has le√≠do y comprendido nuestros t√©rminos"})]})]})})};function ba({className:r,...o}){return e.jsx("div",{className:P("animate-pulse rounded-md bg-muted",r),...o})}export{ge as A,Ye as D,B as L,ba as S,ha as T,ce as a,ie as b,de as c,ue as d,fe as e,xa as f,le as g,fa as u};
