import{r as t,j as e}from"./animations-muhxMtO2.js";import{b as Ae,c as T,d as w,o as ee,B as Q}from"./index-BqFqAFhi.js";import{R as Ue,b as Fe,P as Me,C as ae,a as Le,X as ze,T as te,D as re,O as se,d as M,c as qe,n as Be,k as Oe,i as ne,h as J,bX as Ge,bY as Ke,B as He,a5 as Ve,c0 as We,c1 as Y,b_ as Xe,G as Z,bG as Qe,bS as Je}from"./ui-4Jv8TcDS.js";const ua=()=>{const[r,o]=t.useState([]),[i,f]=t.useState(null),[l,g]=t.useState(!0),[P,m]=t.useState(null),[x,b]=t.useState({}),[E,j]=t.useState({}),[C,S]=t.useState([]),{toast:y}=Ae(),k=a=>{if(!a)return"/placeholder.svg";if(a.startsWith("http"))return a;const s="https://backend-production-956f.up.railway.app",n=a.startsWith("/")?a:`/${a}`;return`${s}${n}`},N=t.useCallback(a=>({...a,foto_principal_url:a.foto_principal_url?k(a.foto_principal_url):"/placeholder.svg",pdf_url:a.pdf_url?k(a.pdf_url):"",puntuacion_promedio:a.puntuacion_promedio?Number(a.puntuacion_promedio):0,total_calificaciones:a.total_calificaciones?Number(a.total_calificaciones):0,total_experiencias:a.total_experiencias?Number(a.total_experiencias):0}),[]),v=t.useCallback(a=>({...a,url_foto:a.url_foto?k(a.url_foto):"/placeholder.svg"}),[]),h=a=>{const s=a;return s?.response?.data?.error||s?.message||"Error desconocido"},D=t.useCallback(async a=>{try{g(!0),m(null);const s=new URLSearchParams;a?.categoria&&s.append("categoria",a.categoria),a?.pagina&&s.append("pagina",a.pagina.toString()),a?.limite&&s.append("limite",a.limite.toString()),a?.orden&&s.append("orden",a.orden);const n=s.toString(),c=n?`/api/lugares?${n}`:"/api/lugares",d=await T.get(c),R=(d.data.lugares||[]).map(N);return console.log("üì∏ Lugares cargados:",R.length),o(R),{lugares:R,total:d.data.total,pagina:d.data.pagina,totalPaginas:d.data.totalPaginas}}catch(s){const n=h(s);throw m(n),y({title:"Error",description:n,variant:"destructive"}),new Error(n)}finally{g(!1)}},[y,N]),u=t.useCallback(async a=>{try{console.log("üîÑ [usePlaces] Obteniendo galer√≠a completa para placeId:",a);const s=await T.get(`/api/lugares/${a}/galeria`);if(console.log("üì∏ [usePlaces] Respuesta de galer√≠a:",s.data),!s.data.imagenes||!Array.isArray(s.data.imagenes))return console.warn("‚ö†Ô∏è No se encontraron im√°genes en la galer√≠a o formato incorrecto"),[];const n=s.data.imagenes.map(c=>({...c,url_foto:c.url_foto?k(c.url_foto):"/placeholder.svg"}));return console.log("‚úÖ [usePlaces] Galer√≠a procesada:",n.length,"im√°genes"),n}catch(s){console.error("‚ùå [usePlaces] Error obteniendo galer√≠a:",s);const n=h(s);try{console.log("üîÑ [usePlaces] Intentando obtener fotos b√°sicas...");const c=await T.get(`/api/lugares/${a}`);if(c.data.fotos&&Array.isArray(c.data.fotos)){const d=c.data.fotos.map(p=>({id:p.id,url_foto:p.url_foto?k(p.url_foto):"/placeholder.svg",descripcion:p.descripcion||`Imagen de ${c.data.lugar.nombre}`,es_principal:p.es_principal,orden:p.orden,creado_en:p.creado_en,ancho_imagen:p.ancho_imagen,alto_imagen:p.alto_imagen,tama√±o_archivo:p.tama√±o_archivo,tipo_archivo:p.tipo_archivo}));return console.log("‚úÖ [usePlaces] Usando fotos b√°sicas como fallback:",d.length),d}}catch(c){console.error("‚ùå [usePlaces] Fallback tambi√©n fall√≥:",c)}throw new Error(n)}},[]),A=t.useCallback(async a=>{try{g(!0),m(null),console.log("üîÑ [usePlaces] Obteniendo detalles del lugar:",a);const s=await T.get(`/api/lugares/${a}`);if(!s.data.lugar)throw new Error("Lugar no encontrado");const n=N(s.data.lugar),c=(s.data.fotos||[]).map(v);console.log("üì∏ [usePlaces] Fotos b√°sicas obtenidas:",c.length);let d=[];try{d=await u(a),console.log("‚úÖ [usePlaces] Galer√≠a completa cargada:",d.length,"im√°genes")}catch(R){console.warn("‚ö†Ô∏è [usePlaces] No se pudo cargar la galer√≠a completa, usando fotos b√°sicas:",R),d=c.map(_=>({id:_.id,url_foto:_.url_foto,descripcion:_.descripcion,es_principal:_.es_principal,orden:_.orden,creado_en:_.creado_en,ancho_imagen:_.ancho_imagen,alto_imagen:_.alto_imagen,tama√±o_archivo:_.tama√±o_archivo,tipo_archivo:_.tipo_archivo}))}const p={lugar:{...n,gallery_images:d},fotos:c,galeria:d};return console.log("‚úÖ [usePlaces] Detalles del lugar procesados:",{lugar:n.nombre,fotos:c.length,galeria:d.length}),f(p),p}catch(s){const n=h(s);throw console.error("‚ùå [usePlaces] Error obteniendo lugar:",n),m(n),y({title:"Error",description:n,variant:"destructive"}),new Error(n)}finally{g(!1)}},[y,N,v,u]),z=t.useCallback(async a=>{try{const n=(await T.get(`/api/calificaciones/lugar/${a}/mi-calificacion`)).data.calificacion;if(n&&typeof n.calificacion=="number"){const c={id:n.id,calificacion:Number(n.calificacion),comentario:n.comentario,creado_en:n.creado_en,actualizado_en:n.actualizado_en};return b(d=>({...d,[a]:c})),c}return null}catch(s){return console.error("Error fetching user rating:",s),null}},[]),q=t.useCallback(async(a,s,n)=>{try{if(j(F=>({...F,[a]:!0})),!(localStorage.getItem("rating_terms_accepted")==="true"))throw new Error("TERMS_REQUIRED");const d={lugarId:a,calificacion:s,comentario:n},R=(await T.post("/api/calificaciones",d)).data,_={id:R.calificacion?.id||"",calificacion:s,comentario:n,creado_en:R.calificacion?.creado_en||new Date().toISOString(),actualizado_en:R.calificacion?.actualizado_en||new Date().toISOString()};return b(F=>({...F,[a]:_})),await D(),!0}catch(c){if(c instanceof Error&&c.message==="TERMS_REQUIRED")throw c;const d=h(c);return y({title:"‚ùå Error al calificar",description:d,variant:"destructive"}),!1}finally{j(c=>({...c,[a]:!1}))}},[y,D]),Ne=t.useCallback(async a=>{try{console.log(`üìä Fetching rating stats for place: ${a}`);const c=(await T.get(`/api/calificaciones/lugar/${a}/estadisticas`)).data.calificaciones||[];if(console.log(`üìä Raw ratings data for place ${a}:`,c),!Array.isArray(c))return console.error("Expected array of ratings, got:",c),null;const d=c.map(U=>{const I=U.calificacion;return console.log("‚≠ê Rating value:",I),Number(I)});console.log("üìä Processed ratings values:",d);const p=d.length,R=d.reduce((U,I)=>U+I,0),_=p>0?Number((R/p).toFixed(1)):0,F=[1,2,3,4,5].map(U=>{const I=d.filter($e=>$e===U).length,X=p>0?Number((I/p*100).toFixed(1)):0;return console.log(`üìä Distribuci√≥n ${U} estrellas:`,{cantidad:I,porcentaje:X}),{calificacion:U,cantidad:I,porcentaje:X}}),W={promedio:_,total:p,distribucion:F};return console.log(`üìä Final stats for place ${a}:`,W),W}catch(s){console.error("‚ùå Error fetching rating stats:",s);const n=r.find(c=>c.id===a);if(n&&n.puntuacion_promedio>0){const c={promedio:n.puntuacion_promedio,total:n.total_calificaciones,distribucion:[1,2,3,4,5].map(d=>({calificacion:d,cantidad:0,porcentaje:0}))};return console.log(`üìä Using fallback stats for ${a}:`,c),c}return null}},[r]),B=t.useCallback(async()=>{try{const s=(await T.get("/api/lugares/categorias")).data.categorias||[];return S(s),s}catch(a){return console.error("Error fetching categories:",a),[]}},[]),_e=t.useCallback(async a=>await u(a),[u]),Ce=t.useCallback(a=>a.foto_principal_url||"/placeholder.svg",[]),we=t.useCallback(a=>a.pdf_url||null,[]),Pe=t.useCallback(a=>a.gallery_images||[],[]),Ee=t.useCallback(a=>{if(!a.pdf_url)return null;if(a.pdf_url.startsWith("http"))return a.pdf_url;const s="https://backend-production-956f.up.railway.app",n=a.pdf_url.startsWith("/")?a.pdf_url:`/${a.pdf_url}`;return`${s}${n}`},[]),De=t.useCallback(a=>{const s=a.gallery_images||[];return s.find(n=>n.es_principal)||s[0]||null},[]),Re=t.useCallback(a=>!!x[a],[x]),Se=t.useCallback(a=>x[a]?.calificacion||null,[x]),O=t.useCallback(a=>{if(!a)return null;try{const s=/(-?\d+\.\d+),\s*(-?\d+\.\d+)/,n=a.match(s);if(n&&n[1]&&n[2]){const c=parseFloat(n[1]),d=parseFloat(n[2]);if(c>=19.8&&c<=20&&d>=-97.6&&d<=-97.5)return{lat:c,lng:d}}return null}catch(s){return console.error("Error extrayendo coordenadas:",s),null}},[]),Ie=t.useCallback(a=>{const s=O(a.ubicacion);return s?{address:a.ubicacion,lat:s.lat,lng:s.lng,hasCoordinates:!0}:{address:a.ubicacion||"San Juan Tahitic, Puebla",lat:19.939088388469845,lng:-97.55492145455479,hasCoordinates:!1}},[O]),Te=t.useCallback(a=>{b(s=>{const n={...s};return delete n[a],n})},[]);return t.useEffect(()=>{D()},[D]),t.useEffect(()=>{B()},[B]),{places:r,currentPlace:i,loading:l,error:P,categories:C,userRatings:x,isRating:E,fetchPlaces:D,fetchPlaceById:A,ratePlace:q,getUserRating:z,getRatingStats:Ne,fetchCategories:B,getPlaceGallery:_e,getMainPhoto:Ce,getPlacePdf:we,getGalleryPhotos:Pe,getMainPhotoFromGallery:De,hasUserRated:Re,getUserCurrentRating:Se,clearUserRating:Te,getPlacePdfUrl:Ee,extractCoordinatesFromUbicacion:O,getPlaceLocation:Ie,refetch:D,resetError:()=>m(null),clearCurrentPlace:()=>f(null)}},Ye=Ue,ga=Fe,Ze=Me,oe=t.forwardRef(({className:r,...o},i)=>e.jsx(se,{ref:i,className:w("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...o}));oe.displayName=se.displayName;const ce=t.forwardRef(({className:r,children:o,...i},f)=>e.jsxs(Ze,{children:[e.jsx(oe,{}),e.jsxs(ae,{ref:f,className:w("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...i,children:[o,e.jsxs(Le,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ze,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ce.displayName=ae.displayName;const ie=({className:r,...o})=>e.jsx("div",{className:w("flex flex-col space-y-1.5 text-center sm:text-left",r),...o});ie.displayName="DialogHeader";const le=({className:r,...o})=>e.jsx("div",{className:w("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...o});le.displayName="DialogFooter";const de=t.forwardRef(({className:r,...o},i)=>e.jsx(te,{ref:i,className:w("text-lg font-semibold leading-none tracking-tight",r),...o}));de.displayName=te.displayName;const ue=t.forwardRef(({className:r,...o},i)=>e.jsx(re,{ref:i,className:w("text-sm text-muted-foreground",r),...o}));ue.displayName=re.displayName;var ea="Label",ge=t.forwardRef((r,o)=>e.jsx(M.label,{...r,ref:o,onMouseDown:i=>{i.target.closest("button, input, select, textarea")||(r.onMouseDown?.(i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));ge.displayName=ea;var pe=ge;const aa=ee("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=t.forwardRef(({className:r,...o},i)=>e.jsx(pe,{ref:i,className:w(aa(),r),...o}));G.displayName=pe.displayName;const ta=ee("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),me=t.forwardRef(({className:r,variant:o,...i},f)=>e.jsx("div",{ref:f,role:"alert",className:w(ta({variant:o}),r),...i}));me.displayName="Alert";const ra=t.forwardRef(({className:r,...o},i)=>e.jsx("h5",{ref:i,className:w("mb-1 font-medium leading-none tracking-tight",r),...o}));ra.displayName="AlertTitle";const fe=t.forwardRef(({className:r,...o},i)=>e.jsx("div",{ref:i,className:w("text-sm [&_p]:leading-relaxed",r),...o}));fe.displayName="AlertDescription";var L="Checkbox",[sa,pa]=qe(L),[na,H]=sa(L);function oa(r){const{__scopeCheckbox:o,checked:i,children:f,defaultChecked:l,disabled:g,form:P,name:m,onCheckedChange:x,required:b,value:E="on",internal_do_not_use_render:j}=r,[C,S]=Oe({prop:i,defaultProp:l??!1,onChange:x,caller:L}),[y,k]=t.useState(null),[N,v]=t.useState(null),h=t.useRef(!1),D=y?!!P||!!y.closest("form"):!0,u={checked:C,disabled:g,setChecked:S,control:y,setControl:k,name:m,form:P,value:E,hasConsumerStoppedPropagationRef:h,required:b,defaultChecked:$(l)?!1:l,isFormControl:D,bubbleInput:N,setBubbleInput:v};return e.jsx(na,{scope:o,...u,children:ca(j)?j(u):f})}var xe="CheckboxTrigger",he=t.forwardRef(({__scopeCheckbox:r,onKeyDown:o,onClick:i,...f},l)=>{const{control:g,value:P,disabled:m,checked:x,required:b,setControl:E,setChecked:j,hasConsumerStoppedPropagationRef:C,isFormControl:S,bubbleInput:y}=H(xe,r),k=ne(l,E),N=t.useRef(x);return t.useEffect(()=>{const v=g?.form;if(v){const h=()=>j(N.current);return v.addEventListener("reset",h),()=>v.removeEventListener("reset",h)}},[g,j]),e.jsx(M.button,{type:"button",role:"checkbox","aria-checked":$(x)?"mixed":x,"aria-required":b,"data-state":je(x),"data-disabled":m?"":void 0,disabled:m,value:P,...f,ref:k,onKeyDown:J(o,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:J(i,v=>{j(h=>$(h)?!0:!h),y&&S&&(C.current=v.isPropagationStopped(),C.current||v.stopPropagation())})})});he.displayName=xe;var V=t.forwardRef((r,o)=>{const{__scopeCheckbox:i,name:f,checked:l,defaultChecked:g,required:P,disabled:m,value:x,onCheckedChange:b,form:E,...j}=r;return e.jsx(oa,{__scopeCheckbox:i,checked:l,defaultChecked:g,disabled:m,required:P,onCheckedChange:b,name:f,form:E,value:x,internal_do_not_use_render:({isFormControl:C})=>e.jsxs(e.Fragment,{children:[e.jsx(he,{...j,ref:o,__scopeCheckbox:i}),C&&e.jsx(ke,{__scopeCheckbox:i})]})})});V.displayName=L;var be="CheckboxIndicator",ve=t.forwardRef((r,o)=>{const{__scopeCheckbox:i,forceMount:f,...l}=r,g=H(be,i);return e.jsx(Be,{present:f||$(g.checked)||g.checked===!0,children:e.jsx(M.span,{"data-state":je(g.checked),"data-disabled":g.disabled?"":void 0,...l,ref:o,style:{pointerEvents:"none",...r.style}})})});ve.displayName=be;var ye="CheckboxBubbleInput",ke=t.forwardRef(({__scopeCheckbox:r,...o},i)=>{const{control:f,hasConsumerStoppedPropagationRef:l,checked:g,defaultChecked:P,required:m,disabled:x,name:b,value:E,form:j,bubbleInput:C,setBubbleInput:S}=H(ye,r),y=ne(i,S),k=Ge(g),N=Ke(f);t.useEffect(()=>{const h=C;if(!h)return;const D=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(D,"checked").set,z=!l.current;if(k!==g&&A){const q=new Event("click",{bubbles:z});h.indeterminate=$(g),A.call(h,$(g)?!1:g),h.dispatchEvent(q)}},[C,k,g,l]);const v=t.useRef($(g)?!1:g);return e.jsx(M.input,{type:"checkbox","aria-hidden":!0,defaultChecked:P??v.current,required:m,disabled:x,name:b,value:E,form:j,...o,tabIndex:-1,ref:y,style:{...o.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ke.displayName=ye;function ca(r){return typeof r=="function"}function $(r){return r==="indeterminate"}function je(r){return $(r)?"indeterminate":r?"checked":"unchecked"}const K=t.forwardRef(({className:r,...o},i)=>e.jsx(V,{ref:i,className:w("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...o,children:e.jsx(ve,{className:w("flex items-center justify-center text-current"),children:e.jsx(He,{className:"h-4 w-4"})})}));K.displayName=V.displayName;const ma=({isOpen:r,onClose:o,onAccept:i,placeName:f,type:l="rating",title:g,description:P})=>{const[m,x]=t.useState(!1),[b,E]=t.useState(!1);t.useEffect(()=>{r&&(x(!1),E(!1))},[r]);const j=()=>{switch(l){case"experience":return"T√©rminos para Compartir Experiencias";case"rating":default:return"T√©rminos y Condiciones"}},C=()=>{switch(l){case"experience":return`Para compartir tu experiencia en "${f}"`;case"rating":default:return`Para calificar "${f}"`}},S=()=>{switch(l){case"experience":return e.jsx(Je,{className:"w-6 h-6 text-purple-600"});case"rating":default:return e.jsx(Z,{className:"w-6 h-6 text-blue-600"})}},y=()=>{switch(l){case"experience":return"Entiendo que mi experiencia e im√°genes se asocian a mi navegador actual";case"rating":default:return"Entiendo que mi calificaci√≥n se asocia a mi navegador actual"}},k=t.useCallback(()=>{if(m&&b){try{i();const u=l==="experience"?"experience_terms_accepted":"rating_terms_accepted";localStorage.setItem(u,"true")}catch{}try{o()}catch{}}},[m,b,i,o,l]),N=t.useCallback(()=>{try{o()}catch{}},[o]),v=t.useCallback(u=>{u||N()},[N]),h=t.useCallback(u=>{u.preventDefault()},[]),D=t.useCallback(u=>{u.preventDefault()},[]);return t.useEffect(()=>{const u=A=>{r&&A.key==="Enter"&&m&&b&&(A.preventDefault(),k())};return r&&document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[r,m,b,k]),e.jsx(Ye,{open:r,onOpenChange:v,children:e.jsxs(ce,{className:"sm:max-w-2xl max-h-[90vh] bg-white border-2 border-blue-200 shadow-2xl flex flex-col",onInteractOutside:h,onEscapeKeyDown:D,onPointerDownOutside:u=>u.preventDefault(),children:[e.jsx(ie,{className:"border-b border-gray-200 pb-4 shrink-0",children:e.jsxs(de,{className:"flex items-center gap-3 text-xl font-bold text-gray-900",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${l==="experience"?"bg-purple-100":"bg-blue-100"}`,children:S()}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"truncate",children:g||j()}),e.jsx(ue,{className:"text-sm text-gray-600 mt-1 truncate",children:P||C()})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto pr-4",children:e.jsxs("div",{className:"space-y-6 py-2 px-1",children:[e.jsxs(me,{className:`${l==="experience"?"bg-purple-50 border-purple-200":"bg-blue-50 border-blue-200"}`,children:[e.jsx(Ve,{className:`h-5 w-5 ${l==="experience"?"text-purple-600":"text-blue-600"}`}),e.jsx(fe,{className:l==="experience"?"text-purple-800":"text-blue-800",children:l==="experience"?"Tu privacidad es importante. Las im√°genes y experiencias pasan por moderaci√≥n antes de publicarse.":"Tu privacidad es importante para nosotros. Usamos m√©todos seguros para proteger tu informaci√≥n."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-lg text-gray-900 flex items-center gap-2",children:[e.jsx(We,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),e.jsx("span",{children:l==="experience"?"¬øC√≥mo funciona el sistema de experiencias?":"¬øC√≥mo funciona el sistema de calificaciones?"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Y,{className:"w-6 h-6 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Identificaci√≥n por Navegador"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Generamos un identificador √∫nico basado en la configuraci√≥n de tu navegador para evitar ",l==="experience"?"contenido":"calificaciones"," duplicados."]})]})]}),e.jsxs("div",{className:"flex items-start gap-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Xe,{className:"w-6 h-6 text-blue-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Direcci√≥n IP An√≥nima"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Usamos tu direcci√≥n IP de forma an√≥nima para prevenir abusos. ",e.jsx("strong",{children:"No almacenamos tu IP completa"}),"."]})]})]}),e.jsxs("div",{className:"flex items-start gap-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx(Z,{className:"w-6 h-6 text-purple-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Sin Datos Personales"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["No requerimos informaci√≥n personal para ",l==="experience"?"compartir experiencias":"calificar lugares","."]})]})]}),l==="experience"&&e.jsxs("div",{className:"flex items-start gap-4 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx(Qe,{className:"w-6 h-6 text-purple-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Derechos de Im√°genes"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Debes tener los derechos de las im√°genes que compartes. El contenido inapropiado ser√° eliminado."})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900 border-b pb-2",children:"Pol√≠tica de Privacidad"}),e.jsxs("div",{className:"space-y-3 text-sm bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Recopilaci√≥n:"})," Solo info t√©cnica (hash navegador, IP anonimizada)"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Uso:"})," Exclusivamente para prevenir duplicados"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Almacenamiento:"})," Eliminaci√≥n autom√°tica tras 24 meses"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Compartici√≥n:"})," Nunca compartimos tus datos"]}),l==="experience"&&e.jsxs("div",{children:[e.jsx("strong",{children:"Moderaci√≥n:"})," Todo el contenido pasa por revisi√≥n antes de publicarse"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-lg text-gray-900 border-b pb-2",children:"Tus Derechos"}),e.jsxs("ul",{className:"space-y-2 text-sm list-disc list-inside bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsxs("li",{children:["Puedes ",l==="experience"?"compartir experiencias":"calificar"," sin cuenta"]}),e.jsxs("li",{children:["Modificar tu ",l==="experience"?"contenido":"calificaci√≥n"," en cualquier momento"]}),e.jsx("li",{children:"Contribuyes a mejorar la experiencia de todos"}),e.jsx("li",{children:"Solicitar eliminaci√≥n de tus datos"}),l==="experience"&&e.jsxs(e.Fragment,{children:[e.jsx("li",{children:"Las im√°genes deben ser apropiadas y respetuosas"}),e.jsx("li",{children:"El contenido ser√° moderado antes de su publicaci√≥n"})]})]})]}),e.jsxs("div",{className:"space-y-3 w-full pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg border ${l==="experience"?"bg-purple-50 border-purple-200":"bg-blue-50 border-blue-200"}`,children:[e.jsx(K,{id:"terms",checked:m,onCheckedChange:u=>x(u===!0),className:`mt-0.5 data-[state=checked]:${l==="experience"?"bg-purple-600":"bg-blue-600"}`}),e.jsx(G,{htmlFor:"terms",className:"text-sm font-medium cursor-pointer",children:"Acepto los t√©rminos y condiciones"})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx(K,{id:"understanding",checked:b,onCheckedChange:u=>E(u===!0),className:"mt-0.5 data-[state=checked]:bg-green-600"}),e.jsx(G,{htmlFor:"understanding",className:"text-sm font-medium cursor-pointer",children:y()})]})]})]})}),e.jsxs(le,{className:"flex flex-col border-t pt-4 mt-4 space-y-4 sm:space-y-0 shrink-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:justify-end",children:[e.jsx(Q,{variant:"outline",onClick:N,className:"border-gray-300 text-gray-700 hover:bg-gray-100 flex-1 sm:flex-none",children:"Cancelar"}),e.jsxs(Q,{onClick:k,disabled:!m||!b,className:`bg-gradient-to-r text-white disabled:opacity-50 flex-1 sm:flex-none ${l==="experience"?"from-purple-600 to-purple-700":"from-green-600 to-green-700"}`,children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Aceptar y Continuar"]})]}),e.jsx("div",{className:"text-xs text-gray-500 text-center pt-2 border-t",children:"Al aceptar, confirmas que has le√≠do y comprendido nuestros t√©rminos"})]})]})})};function fa({className:r,...o}){return e.jsx("div",{className:w("animate-pulse rounded-md bg-muted",r),...o})}export{me as A,Ye as D,G as L,fa as S,ma as T,ce as a,ie as b,de as c,ue as d,fe as e,ga as f,le as g,ua as u};
