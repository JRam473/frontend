import{r as u,j as r,A as fe,m as $}from"./animations-w5RCdeks.js";import{C as Ee,a as Ie,b as ke,d as Se,c as Pe}from"./card-Dck1QLHG.js";import{u as U,_ as Q,L as Te}from"./index-Cjg6ZIXX.js";import{a6 as _e,H as be,br as Re,M as Ae,a3 as xe,bt as ce,bi as Fe,af as Oe,bj as Le,aV as Be}from"./ui-vuw2n6JC.js";import"./vendor-BImi-76D.js";import"./charts-qq9cUDqM.js";import"./utils-BNe0Xlio.js";const De=()=>{const{language:c}=U(),[h,w]=u.useState(null),[y,N]=u.useState(!0),[T,S]=u.useState(null);return u.useEffect(()=>{(async()=>{try{N(!0),S(null);let C;switch(c){case"en":C=await Q(()=>import("./eventosTahitic-en-DIbglGVI.js"),[]);break;case"nah":C=await Q(()=>import("./eventosTahitic-nah-CyAYicC1.js"),[]);break;default:C=await Q(()=>import("./eventosTahitic-es-DsqjSq9h.js"),[])}w(C.default)}catch(C){console.error("Error loading calendar data:",C),S("Error al cargar los datos del calendario");try{const f=await Q(()=>import("./eventosTahitic-es-DsqjSq9h.js"),[]);w(f.default)}catch{S("No se pudieron cargar los datos del calendario")}}finally{N(!1)}})()},[c]),{calendarData:h,loading:y,error:T}};var de={};(function c(h,w,y,N){var T=!!(h.Worker&&h.Blob&&h.Promise&&h.OffscreenCanvas&&h.OffscreenCanvasRenderingContext2D&&h.HTMLCanvasElement&&h.HTMLCanvasElement.prototype.transferControlToOffscreen&&h.URL&&h.URL.createObjectURL),S=typeof Path2D=="function"&&typeof DOMMatrix=="function",W=(function(){if(!h.OffscreenCanvas)return!1;try{var a=new OffscreenCanvas(1,1),e=a.getContext("2d");e.fillRect(0,0,1,1);var l=a.transferToImageBitmap();e.createPattern(l,"no-repeat")}catch{return!1}return!0})();function C(){}function f(a){var e=w.exports.Promise,l=e!==void 0?e:h.Promise;return typeof l=="function"?new l(a):(a(C,C),null)}var A=(function(a,e){return{transform:function(l){if(a)return l;if(e.has(l))return e.get(l);var o=new OffscreenCanvas(l.width,l.height),i=o.getContext("2d");return i.drawImage(l,0,0),e.set(l,o),o},clear:function(){e.clear()}}})(W,new Map),B=(function(){var a=Math.floor(16.666666666666668),e,l,o={},i=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(e=function(t){var s=Math.random();return o[s]=requestAnimationFrame(function n(d){i===d||i+a-1<d?(i=d,delete o[s],t()):o[s]=requestAnimationFrame(n)}),s},l=function(t){o[t]&&cancelAnimationFrame(o[t])}):(e=function(t){return setTimeout(t,a)},l=function(t){return clearTimeout(t)}),{frame:e,cancel:l}})(),H=(function(){var a,e,l={};function o(i){function t(s,n){i.postMessage({options:s||{},callback:n})}i.init=function(n){var d=n.transferControlToOffscreen();i.postMessage({canvas:d},[d])},i.fire=function(n,d,g){if(e)return t(n,null),e;var p=Math.random().toString(36).slice(2);return e=f(function(x){function v(j){j.data.callback===p&&(delete l[p],i.removeEventListener("message",v),e=null,A.clear(),g(),x())}i.addEventListener("message",v),t(n,p),l[p]=v.bind(null,{data:{callback:p}})}),e},i.reset=function(){i.postMessage({reset:!0});for(var n in l)l[n](),delete l[n]}}return function(){if(a)return a;if(!y&&T){var i=["var CONFETTI, SIZE = {}, module = {};","("+c.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{a=new Worker(URL.createObjectURL(new Blob([i])))}catch(t){return typeof console<"u"&&typeof console.warn=="function"&&console.warn("ðŸŽŠ Could not load worker",t),null}o(a)}return a}})(),Z={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function X(a,e){return e?e(a):a}function Y(a){return a!=null}function b(a,e,l){return X(a&&Y(a[e])?a[e]:Z[e],l)}function ee(a){return a<0?0:Math.floor(a)}function J(a,e){return Math.floor(Math.random()*(e-a))+a}function D(a){return parseInt(a,16)}function K(a){return a.map(_)}function _(a){var e=String(a).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:D(e.substring(0,2)),g:D(e.substring(2,4)),b:D(e.substring(4,6))}}function ae(a){var e=b(a,"origin",Object);return e.x=b(e,"x",Number),e.y=b(e,"y",Number),e}function re(a){a.width=document.documentElement.clientWidth,a.height=document.documentElement.clientHeight}function te(a){var e=a.getBoundingClientRect();a.width=e.width,a.height=e.height}function O(a){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=a,e}function V(a,e,l,o,i,t,s,n,d){a.save(),a.translate(e,l),a.rotate(t),a.scale(o,i),a.arc(0,0,1,s,n,d),a.restore()}function E(a){var e=a.angle*(Math.PI/180),l=a.spread*(Math.PI/180);return{x:a.x,y:a.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:a.startVelocity*.5+Math.random()*a.startVelocity,angle2D:-e+(.5*l-Math.random()*l),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:a.color,shape:a.shape,tick:0,totalTicks:a.ticks,decay:a.decay,drift:a.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:a.gravity*3,ovalScalar:.6,scalar:a.scalar,flat:a.flat}}function z(a,e){e.x+=Math.cos(e.angle2D)*e.velocity+e.drift,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.velocity*=e.decay,e.flat?(e.wobble=0,e.wobbleX=e.x+10*e.scalar,e.wobbleY=e.y+10*e.scalar,e.tiltSin=0,e.tiltCos=0,e.random=1):(e.wobble+=e.wobbleSpeed,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble),e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+2);var l=e.tick++/e.totalTicks,o=e.x+e.random*e.tiltCos,i=e.y+e.random*e.tiltSin,t=e.wobbleX+e.random*e.tiltCos,s=e.wobbleY+e.random*e.tiltSin;if(a.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-l)+")",a.beginPath(),S&&e.shape.type==="path"&&typeof e.shape.path=="string"&&Array.isArray(e.shape.matrix))a.fill(ne(e.shape.path,e.shape.matrix,e.x,e.y,Math.abs(t-o)*.1,Math.abs(s-i)*.1,Math.PI/10*e.wobble));else if(e.shape.type==="bitmap"){var n=Math.PI/10*e.wobble,d=Math.abs(t-o)*.1,g=Math.abs(s-i)*.1,p=e.shape.bitmap.width*e.scalar,x=e.shape.bitmap.height*e.scalar,v=new DOMMatrix([Math.cos(n)*d,Math.sin(n)*d,-Math.sin(n)*g,Math.cos(n)*g,e.x,e.y]);v.multiplySelf(new DOMMatrix(e.shape.matrix));var j=a.createPattern(A.transform(e.shape.bitmap),"no-repeat");j.setTransform(v),a.globalAlpha=1-l,a.fillStyle=j,a.fillRect(e.x-p/2,e.y-x/2,p,x),a.globalAlpha=1}else if(e.shape==="circle")a.ellipse?a.ellipse(e.x,e.y,Math.abs(t-o)*e.ovalScalar,Math.abs(s-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):V(a,e.x,e.y,Math.abs(t-o)*e.ovalScalar,Math.abs(s-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI);else if(e.shape==="star")for(var m=Math.PI/2*3,M=4*e.scalar,I=8*e.scalar,k=e.x,R=e.y,F=5,P=Math.PI/F;F--;)k=e.x+Math.cos(m)*I,R=e.y+Math.sin(m)*I,a.lineTo(k,R),m+=P,k=e.x+Math.cos(m)*M,R=e.y+Math.sin(m)*M,a.lineTo(k,R),m+=P;else a.moveTo(Math.floor(e.x),Math.floor(e.y)),a.lineTo(Math.floor(e.wobbleX),Math.floor(i)),a.lineTo(Math.floor(t),Math.floor(s)),a.lineTo(Math.floor(o),Math.floor(e.wobbleY));return a.closePath(),a.fill(),e.tick<e.totalTicks}function se(a,e,l,o,i){var t=e.slice(),s=a.getContext("2d"),n,d,g=f(function(p){function x(){n=d=null,s.clearRect(0,0,o.width,o.height),A.clear(),i(),p()}function v(){y&&!(o.width===N.width&&o.height===N.height)&&(o.width=a.width=N.width,o.height=a.height=N.height),!o.width&&!o.height&&(l(a),o.width=a.width,o.height=a.height),s.clearRect(0,0,o.width,o.height),t=t.filter(function(j){return z(s,j)}),t.length?n=B.frame(v):x()}n=B.frame(v),d=x});return{addFettis:function(p){return t=t.concat(p),g},canvas:a,promise:g,reset:function(){n&&B.cancel(n),d&&d()}}}function q(a,e){var l=!a,o=!!b(e||{},"resize"),i=!1,t=b(e,"disableForReducedMotion",Boolean),s=T&&!!b(e||{},"useWorker"),n=s?H():null,d=l?re:te,g=a&&n?!!a.__confetti_initialized:!1,p=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,x;function v(m,M,I){for(var k=b(m,"particleCount",ee),R=b(m,"angle",Number),F=b(m,"spread",Number),P=b(m,"startVelocity",Number),pe=b(m,"decay",Number),ve=b(m,"gravity",Number),we=b(m,"drift",Number),me=b(m,"colors",K),ye=b(m,"ticks",Number),ue=b(m,"shapes"),je=b(m,"scalar"),Ne=!!b(m,"flat"),he=ae(m),ge=k,ie=[],Me=a.width*he.x,Ce=a.height*he.y;ge--;)ie.push(E({x:Me,y:Ce,angle:R,spread:F,startVelocity:P,color:me[ge%me.length],shape:ue[J(0,ue.length)],ticks:ye,decay:pe,gravity:ve,drift:we,scalar:je,flat:Ne}));return x?x.addFettis(ie):(x=se(a,ie,d,M,I),x.promise)}function j(m){var M=t||b(m,"disableForReducedMotion",Boolean),I=b(m,"zIndex",Number);if(M&&p)return f(function(P){P()});l&&x?a=x.canvas:l&&!a&&(a=O(I),document.body.appendChild(a)),o&&!g&&d(a);var k={width:a.width,height:a.height};n&&!g&&n.init(a),g=!0,n&&(a.__confetti_initialized=!0);function R(){if(n){var P={getBoundingClientRect:function(){if(!l)return a.getBoundingClientRect()}};d(P),n.postMessage({resize:{width:P.width,height:P.height}});return}k.width=k.height=null}function F(){x=null,o&&(i=!1,h.removeEventListener("resize",R)),l&&a&&(document.body.contains(a)&&document.body.removeChild(a),a=null,g=!1)}return o&&!i&&(i=!0,h.addEventListener("resize",R,!1)),n?n.fire(m,k,F):v(m,k,F)}return j.reset=function(){n&&n.reset(),x&&x.reset()},j}var L;function G(){return L||(L=q(null,{useWorker:!0,resize:!0})),L}function ne(a,e,l,o,i,t,s){var n=new Path2D(a),d=new Path2D;d.addPath(n,new DOMMatrix(e));var g=new Path2D;return g.addPath(d,new DOMMatrix([Math.cos(s)*i,Math.sin(s)*i,-Math.sin(s)*t,Math.cos(s)*t,l,o])),g}function le(a){if(!S)throw new Error("path confetti are not supported in this browser");var e,l;typeof a=="string"?e=a:(e=a.path,l=a.matrix);var o=new Path2D(e),i=document.createElement("canvas"),t=i.getContext("2d");if(!l){for(var s=1e3,n=s,d=s,g=0,p=0,x,v,j=0;j<s;j+=2)for(var m=0;m<s;m+=2)t.isPointInPath(o,j,m,"nonzero")&&(n=Math.min(n,j),d=Math.min(d,m),g=Math.max(g,j),p=Math.max(p,m));x=g-n,v=p-d;var M=10,I=Math.min(M/x,M/v);l=[I,0,0,I,-Math.round(x/2+n)*I,-Math.round(v/2+d)*I]}return{type:"path",path:e,matrix:l}}function oe(a){var e,l=1,o="#000000",i='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof a=="string"?e=a:(e=a.text,l="scalar"in a?a.scalar:l,i="fontFamily"in a?a.fontFamily:i,o="color"in a?a.color:o);var t=10*l,s=""+t+"px "+i,n=new OffscreenCanvas(t,t),d=n.getContext("2d");d.font=s;var g=d.measureText(e),p=Math.ceil(g.actualBoundingBoxRight+g.actualBoundingBoxLeft),x=Math.ceil(g.actualBoundingBoxAscent+g.actualBoundingBoxDescent),v=2,j=g.actualBoundingBoxLeft+v,m=g.actualBoundingBoxAscent+v;p+=v+v,x+=v+v,n=new OffscreenCanvas(p,x),d=n.getContext("2d"),d.font=s,d.fillStyle=o,d.fillText(e,j,m);var M=1/l;return{type:"bitmap",bitmap:n.transferToImageBitmap(),matrix:[M,0,0,M,-p*M/2,-x*M/2]}}w.exports=function(){return G().apply(this,arguments)},w.exports.reset=function(){G().reset()},w.exports.create=q,w.exports.shapeFromPath=le,w.exports.shapeFromText=oe})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),de,!1);const Ve=de.exports;de.exports.create;function ze({show:c,onClose:h,pdfUrl:w}){const{t:y}=U();return u.useEffect(()=>{c&&Ve({particleCount:150,spread:80,origin:{y:.6}})},[c]),r.jsx(fe,{children:c&&r.jsx($.div,{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:r.jsxs($.div,{className:"bg-white rounded-xl p-6 max-w-sm text-center shadow-lg",initial:{scale:.8},animate:{scale:1},exit:{scale:.8},transition:{type:"spring",stiffness:300,damping:20},children:[r.jsx(_e,{className:"mx-auto h-12 w-12 text-green-500 mb-4"}),r.jsxs("h3",{className:"text-xl font-bold mb-2",children:[y("modal.congratulations")," "]}),r.jsxs("p",{className:"text-gray-700 mb-4",children:[y("modal.completedRoute")," "]}),r.jsxs("button",{onClick:()=>window.open(w,"_blank"),className:"bg-orange-500 text-white px-4 py-2 rounded-lg font-semibold hover:bg-orange-600 transition-colors",children:[y("modal.downloadStickers")," "]}),r.jsxs("button",{onClick:h,className:"mt-3 text-gray-500 text-sm underline mb-8",children:[y("modal.close")," "]})]})})})}function $e(){const{t:c}=U(),{calendarData:h,loading:w,error:y}=De(),[N,T]=u.useState(null),[,S]=u.useState(!1),[W,C]=u.useState(0),[f,A]=u.useState([]),[B,H]=u.useState({}),[Z,X]=u.useState({}),[Y,b]=u.useState({}),[ee,J]=u.useState(null),[D,K]=u.useState(!1),[_,ae]=u.useState(!1),[re,te]=u.useState(!1),O=u.useRef({}),V=u.useRef([]),E=h?.events||[];u.useEffect(()=>{const t=()=>{const s=window.innerWidth;ae(s<768),te(s>=768&&s<1024)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),u.useEffect(()=>{const t=localStorage.getItem("tahitic-collected-stamps"),s=localStorage.getItem("tahitic-visitor-count");t&&A(JSON.parse(t)),s&&C(parseInt(s,10))},[]),u.useEffect(()=>{const t=setInterval(()=>{C(s=>{const n=s+Math.floor(Math.random()*3);return localStorage.setItem("tahitic-visitor-count",n.toString()),n})},5e3);return()=>clearInterval(t)},[]),u.useEffect(()=>{f.length>0&&localStorage.setItem("tahitic-collected-stamps",JSON.stringify(f))},[f]);const z=u.useCallback((t,s)=>{const n=V.current[t];n&&(n.scrollIntoView({behavior:_?"auto":"smooth",block:_?"start":"center"}),J(t),setTimeout(()=>J(null),1200)),T(N===t?null:t)},[N,_]),se=u.useCallback(t=>{S(!0);const s=E[t].stamp;if(!f.includes(s)){const n=[...f,s];A(n)}Object.keys(O.current).forEach(n=>{const d=parseInt(n);d!==t&&O.current[d]&&O.current[d]?.pause()})},[f,E]),q=u.useCallback(()=>{S(!1)},[]),L=u.useCallback(t=>{X(s=>({...s,[t]:!0}))},[]),G=u.useCallback(t=>{b(s=>({...s,[t]:!0})),H(s=>({...s,[t]:!1}))},[]),ne=u.useCallback(t=>{H(s=>({...s,[t]:!1}))},[]);if(u.useEffect(()=>{f.length>0&&f.length===E.length&&K(!0)},[f.length,E.length]),w)return r.jsx("section",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Cargando eventos..."})]})});if(y)return r.jsx("section",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-500 mb-4",children:y}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600",children:"Reintentar"})]})});const le=()=>{window.open("/videos/calendario/STICKER San Juan Tahitic.pdf","_blank")},oe=()=>{A([]),localStorage.removeItem("tahitic-collected-stamps"),T(null),S(!1)},a=(t,s)=>{const n=_?s*1.5:s;return t.length>n?t.substring(0,n)+"...":t},e=t=>({Cultural:c("calendar.categoryCultural"),Religioso:c("calendar.categoryReligious"),Ceremonial:c("calendar.categoryCeremonial"),Feria:c("calendar.categoryFair"),Naturaleza:c("calendar.categoryNature"),Agricultura:c("calendar.categoryAgriculture"),AstronomÃ­a:c("calendar.categoryAstronomy"),Galaxias:c("calendar.categoryGalaxies"),Tlamantli:c("calendar.categoryCultural")})[t]||t,l=(t,s,n)=>{(t.key==="Enter"||t.key===" ")&&(t.preventDefault(),z(s,n))},o=f.length===E.length,i=_||re;return r.jsxs("section",{id:"cultura",className:"bg-[url('https://res.cloudinary.com/dinsl266g/image/upload/v1763084436/Fondo-gastronomia--2_rvukkb.svg')] bg-cover bg-center bg-scroll min-h-screen py-8 sm:py-16 px-4 sm:px-6 relative","aria-labelledby":"cultura-title",children:[r.jsx(ze,{show:D,onClose:()=>K(!1),pdfUrl:"/videos/calendario/STICKER San Juan Tahitic.pdf"}),r.jsx("div",{className:"absolute inset-0 bg-black/20","aria-hidden":"true"}),!i&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute top-10 right-4 w-20 h-20 sm:w-40 sm:h-40 bg-orange-200/30 rounded-full blur-2xl sm:blur-3xl","aria-hidden":"true"}),r.jsx("div",{className:"absolute bottom-10 left-4 w-16 h-16 sm:w-32 sm:h-32 bg-amber-200/30 rounded-full blur-2xl sm:blur-3xl","aria-hidden":"true"})]}),r.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 lg:px-8 relative",children:[r.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[r.jsxs("div",{className:"inline-flex items-center space-x-2 bg-orange-100 px-4 py-2 rounded-full mb-4 shadow-lg max-w-xs sm:max-w-none mx-auto",children:[r.jsx(be,{className:"h-4 w-4 sm:h-5 sm:w-5 text-orange-600","aria-hidden":"true"}),r.jsxs("span",{className:"text-orange-800 font-semibold text-sm sm:text-base",children:[W,"+ ",c("calendar.visitors")]})]}),r.jsxs("h1",{id:"cultura-title",className:"text-2xl sm:text-4xl lg:text-5xl font-bold mb-4 px-2 text-white drop-shadow-[0_2px_6px_rgba(0,0,0,0.8)]",children:[c("calendar.titlePart1")," ",r.jsx("span",{className:"bg-gradient-to-r from-orange-400 to-amber-400 bg-clip-text text-transparent drop-shadow-[0_2px_6px_rgba(0,0,0,0.8)]",children:c("calendar.titlePart2")})]}),r.jsx("p",{className:"text-base sm:text-2xl text-white max-w-2xl mx-auto leading-relaxed px-2 drop-shadow-[0_2px_6px_rgba(0,0,0,0.8)]",children:c("calendar.subtitle")})]}),r.jsx("div",{className:"text-center mb-4",children:r.jsxs("button",{onClick:oe,className:`inline-flex items-center gap-2 px-4 py-2 sm:px-5 sm:py-3 text-sm sm:text-base font-semibold text-gray-700 bg-white/80 backdrop-blur-sm border border-gray-300 rounded-lg shadow-md hover:bg-white hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-orange-500 ${i?"":"hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300"}`,"aria-label":c("calendar.resetAria"),children:[r.jsx(Re,{className:"h-4 w-4 sm:h-5 sm:w-5"}),c("calendar.resetProgress")]})}),r.jsxs("div",{className:"bg-white/80 backdrop-blur-lg rounded-xl sm:rounded-2xl p-3 sm:p-6 mb-6 sm:mb-8 border-2 border-orange-200 shadow-lg mx-1 sm:mx-0",role:"region","aria-labelledby":"pasaporte-title",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 gap-2",children:[r.jsxs("h2",{id:"pasaporte-title",className:"text-xl sm:text-2xl lg:text-3xl font-extrabold text-gray-900 flex items-center justify-center sm:justify-start",children:[r.jsx(Ae,{className:"h-5 w-5 sm:h-6 sm:w-6 mr-2 text-orange-600","aria-hidden":"true"}),c("calendar.routeTitle")]}),r.jsxs("span",{className:"text-xs sm:text-sm text-gray-600 text-center sm:text-right","aria-live":"polite",children:[f.length,"/",E.length," ",c("calendar.completed")]})]}),r.jsxs("div",{className:"flex items-center p-3 bg-amber-50 border border-amber-300 rounded-lg mb-4 text-center sm:text-left",children:[r.jsx(xe,{className:"h-4 w-4 sm:h-5 sm:w-5 text-amber-500 fill-amber-300 mr-2 flex-shrink-0","aria-hidden":"true"}),r.jsx("p",{className:"text-gray-700 font-semibold text-sm sm:text-base",children:c("calendar.rewardMessage")})]}),r.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-3 sm:gap-4 mb-4",role:"list","aria-label":"Experiencias culturales",children:E.map((t,s)=>r.jsxs("div",{className:"text-center",role:"listitem",children:[r.jsx("div",{ref:n=>{V.current[s]=n},tabIndex:0,className:`w-12 h-12 sm:w-14 sm:h-14 mx-auto rounded-full border-3 overflow-hidden ${f.includes(t.stamp)?"border-green-500 bg-green-100 focus:ring-2 focus:ring-green-500 focus:ring-offset-1":"border-gray-300 bg-gray-100 opacity-60 focus:ring-2 focus:ring-orange-500 focus:ring-offset-1"} flex items-center justify-center cursor-pointer shadow-sm ${i?"":"hover:scale-105 active:scale-95 transition-all duration-300"}`,onClick:()=>z(s,t.stamp),onKeyPress:n=>l(n,s,t.stamp),"aria-label":`${t.title}. ${f.includes(t.stamp)?c("calendar.completedAria"):c("calendar.eventAria")}`,"aria-expanded":N===s,"aria-controls":`event-details-${s}`,children:Z[t.stamp]?r.jsx("div",{className:"w-full h-full bg-gray-200 flex items-center justify-center",children:r.jsx(ce,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})}):r.jsx("img",{src:t.videoThumbnail,alt:`Miniatura de ${t.title}`,className:"w-full h-full object-cover",onError:()=>L(t.stamp),loading:"lazy"})}),r.jsx("span",{className:`text-xs mt-1 font-medium block ${f.includes(t.stamp)?"text-green-600 font-bold":"text-gray-500"}`,children:f.includes(t.stamp)?"âœ“":"â—‹"})]},s))}),o&&r.jsxs("button",{onClick:le,className:`w-full bg-gradient-to-r from-orange-500 to-amber-500 text-white py-3 rounded-lg font-semibold flex items-center justify-center mt-3 focus:ring-2 focus:ring-offset-1 focus:ring-orange-500 text-sm sm:text-base ${i?"":"hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-300"}`,"aria-label":c("calendar.downloadAria"),children:[r.jsx(Fe,{className:"h-4 w-4 sm:h-5 sm:w-5 mr-2","aria-hidden":"true"}),c("calendar.downloadStickers")]}),!o&&r.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mt-2 text-center px-2","aria-live":"polite",children:c("calendar.progressMessage").replace("{current}",f.length.toString()).replace("{total}",E.length.toString())})]}),r.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 sm:gap-4 lg:gap-6 mb-8 sm:mb-12 mx-1 sm:mx-0",role:"list","aria-label":"Eventos del calendario cultural",children:E.map((t,s)=>r.jsxs(Ee,{id:`event-details-${s}`,ref:n=>{V.current[s]=n},className:`group border-l-4 border-orange-400 bg-white/90 backdrop-blur-sm overflow-hidden cursor-pointer relative focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-1 ${ee===s?"ring-2 ring-orange-400 scale-[1.02]":""} ${i?"":"hover:shadow-xl hover:-translate-y-1 transition-all duration-300"}`,onClick:()=>z(s,t.stamp),onKeyPress:n=>l(n,s,t.stamp),children:[r.jsxs("div",{className:"flex justify-between items-center p-3 sm:p-4 border-b border-orange-100 bg-orange-50/50",children:[r.jsx("span",{className:"text-xs font-semibold text-orange-700 bg-orange-100 px-3 py-1.5 rounded-full border border-orange-200",children:e(t.category)}),r.jsxs("div",{className:"bg-orange-500 text-white py-1.5 px-3 rounded-full shadow-sm flex items-center",children:[r.jsx(Oe,{className:"h-3 w-3 mr-1.5","aria-hidden":"true"}),r.jsx("span",{className:"font-bold text-xs",children:t.date})]})]}),r.jsxs(Ie,{className:"flex flex-row items-start space-y-0 pb-2 sm:pb-3 pt-3 sm:pt-4",children:[r.jsx("div",{className:"relative mr-3 sm:mr-4",children:r.jsx("div",{className:"relative p-1 sm:p-2 rounded-xl shadow-md overflow-hidden bg-white",children:Z[t.stamp]?r.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gray-200 flex items-center justify-center rounded-lg",children:r.jsx(ce,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-400"})}):r.jsx("img",{src:t.videoThumbnail,alt:`Miniatura de ${t.title}`,className:"w-10 h-10 sm:w-12 sm:h-12 object-cover rounded-lg",onError:()=>L(t.stamp),loading:"lazy"})})}),r.jsxs("div",{className:"flex-1 relative min-w-0",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsx(ke,{id:`event-title-${s}`,className:`text-base sm:text-lg lg:text-xl font-extrabold text-gray-900 mb-1 line-clamp-2 leading-tight ${i?"":"group-hover:text-orange-700 transition-colors duration-300"}`,children:t.title}),f.includes(t.stamp)&&r.jsx(xe,{className:"h-4 w-4 sm:h-5 sm:w-5 text-amber-500 fill-current ml-2 flex-shrink-0 mt-1","aria-label":c("calendar.completedAria")})]}),r.jsx(Se,{id:`event-desc-${s}`,className:"text-gray-600 text-xs sm:text-sm leading-relaxed max-h-[60px] overflow-y-auto custom-scrollbar mb-2",children:t.description})]})]}),r.jsxs(Pe,{className:"relative pb-4 max-h-[400px] sm:max-h-none overflow-y-auto custom-scrollbar",children:[N!==s&&!i&&r.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center rounded-lg z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-300","aria-hidden":"true",children:r.jsxs("button",{className:"bg-white/90 text-orange-700 font-bold py-2 px-4 rounded-full shadow-lg flex items-center transform group-hover:scale-105 transition-transform text-sm",tabIndex:-1,children:[r.jsx(Le,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),c("calendar.viewExperience")]})}),N===s&&r.jsx("div",{className:"mb-3 rounded-lg overflow-hidden shadow-lg mx-[-8px] sm:mx-0",children:r.jsxs("div",{className:"relative aspect-video bg-black",children:[B[s]&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900",children:r.jsxs("div",{className:"text-white text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mx-auto mb-1"}),r.jsx("p",{className:"text-xs",children:c("calendar.loading")})]})}),Y[s]?r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-900 p-2",children:r.jsxs("div",{className:"text-white text-center",children:[r.jsx(ce,{className:"h-8 w-8 sm:h-10 sm:w-10 mx-auto mb-1 text-gray-400"}),r.jsx("p",{className:"text-sm",children:c("calendar.videoUnavailable")})]})}):r.jsx("video",{ref:n=>{O.current[s]=n},src:N===s?t.videoPreview:"",className:"w-full h-full object-cover",controls:!0,autoPlay:!_,onPlay:()=>se(s),onPause:q,onError:()=>G(s),onLoadedData:()=>ne(s),preload:"none","aria-label":`Video de ${t.title}`})]})}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("p",{className:"text-sm font-semibold text-gray-800 border-b border-orange-200 pb-1 mb-2",children:[c("calendar.activities"),":"]}),r.jsx("div",{className:"space-y-2 max-h-[120px] sm:max-h-none overflow-y-auto pr-2",children:t.details.map((n,d)=>r.jsxs("div",{className:"flex items-start text-gray-700",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-400 rounded-full mr-2 mt-1.5 flex-shrink-0","aria-hidden":"true"}),r.jsx("span",{className:"font-medium text-xs sm:text-sm leading-relaxed flex-1",children:a(n,_?100:150)})]},d))})]}),!i&&r.jsx("div",{className:"mt-4 h-1 bg-gray-100 rounded-full overflow-hidden","aria-hidden":"true",children:r.jsx("div",{className:"h-full bg-orange-400 transform -translate-x-full group-hover:translate-x-0 transition-transform duration-700 shadow-lg"})})]})]},s))})]})]})}function Ue({items:c}){return r.jsx("nav",{className:"text-lg text-gray-00 font-bold","aria-label":"Breadcrumb",children:r.jsx("ol",{className:"flex flex-wrap items-center space-x-2 mb-6",children:c.map((h,w)=>{const y=w===c.length-1;return r.jsxs("li",{className:"flex items-center",children:[!y&&h.path?r.jsx(Te,{to:h.path,className:"text-orange-600 hover:underline",children:h.label}):r.jsx("span",{className:"text-gray-800 font-medium",children:h.label}),!y&&r.jsx("span",{className:"mx-6 text-gray-400",children:"/"})]},w)})})})}function We(){const[c,h]=u.useState(0),{t:w}=U(),y=w("carousel.phrases");return u.useEffect(()=>{const N=setInterval(()=>{h(T=>(T+1)%y.length)},5e3);return()=>clearInterval(N)},[y.length]),r.jsxs("section",{className:"relative overflow-hidden mt-20",children:[r.jsx($.div,{className:"absolute inset-0 bg-[url('https://res.cloudinary.com/dinsl266g/image/upload/v1763061088/Monte_virgen_oznfhp.jpg')] bg-cover bg-center",initial:{scale:1.1},whileInView:{scale:1},transition:{duration:3,ease:"easeOut"}}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),r.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center text-center text-white py-24 px-6",children:[r.jsx(be,{className:"mx-auto mb-4 h-10 w-10 text-yellow-400 animate-pulse"}),r.jsxs("h2",{className:"text-3xl md:text-5xl font-extrabold mb-4 leading-tight",children:[w("carousel.title")," "," ",r.jsx("span",{className:"text-orange-400",children:w("carousel.sanJuanTahitic")})," "]}),r.jsx("div",{className:"h-20 md:h-16 relative w-full max-w-2xl mx-auto mb-10",children:r.jsx(fe,{mode:"wait",children:r.jsx($.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.8,ease:"easeInOut"},className:"text-lg text-gray-200 italic",children:y[c]},c)})}),r.jsxs($.a,{href:"/cultura",whileHover:{scale:1.05},whileTap:{scale:.98},className:"inline-flex items-center gap-2 bg-orange-500 text-white font-semibold px-6 py-3 rounded-full shadow-lg hover:bg-orange-600 transition-colors",children:[w("carousel.exploreMore")," ",r.jsx(Be,{className:"h-5 w-5"})]})]}),r.jsx("svg",{className:"absolute bottom-0 left-0 w-full h-24 text-white/20",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",preserveAspectRatio:"none",fill:"currentColor",children:r.jsx("path",{d:"M0,288L48,272C96,256,192,224,288,197.3C384,171,480,149,576,133.3C672,117,768,107,864,122.7C960,139,1056,181,1152,186.7C1248,192,1344,160,1392,144L1440,128V320H0Z"})})]})}function Xe(){const{t:c}=U(),h=[{label:c("breadcrumbs.home"),path:"/"},{label:c("breadcrumbs.culture"),path:"/cultura"},{label:c("breadcrumbs.culturalCalendar")}];return r.jsx("div",{className:"bg-[url('https://res.cloudinary.com/dinsl266g/image/upload/v1763076653/Viejo_zoi3ur.jpg')] bg-cover bg-center min-h-screen py-16 px-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx(Ue,{items:h}),r.jsx($e,{}),r.jsx(We,{})]})})}export{Xe as CalendarPage};
