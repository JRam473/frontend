import{r as i,j as e}from"./animations-w5RCdeks.js";import{C as w,a as y,b as F,c as I,d as C}from"./card-k-yR4DEm.js";import{u as k,B as P}from"./index-FEn-eR-a.js";import{I as m}from"./input-BRZWmq00.js";import{T as R}from"./textarea-DNfa1aEd.js";import{I as q}from"./ImageWithFallback-CX4aJ3oG.js";import{M,J as $,K as B,aG as J,a6 as O,a5 as c}from"./ui-vuw2n6JC.js";import"./vendor-BImi-76D.js";import"./charts-qq9cUDqM.js";import"./utils-BNe0Xlio.js";function Q(){const{t}=k(),[n,d]=i.useState({}),[j,x]=i.useState(!1),[f,h]=i.useState("idle"),l=i.useRef(null),E=[{icon:M,title:t("contact.contactItems.location.title"),content:t("contact.contactItems.location.content"),details:t("contact.contactItems.location.details")},{icon:$,title:t("contact.contactItems.phone.title"),content:t("contact.contactItems.phone.content"),details:t("contact.contactItems.phone.details")},{icon:B,title:t("contact.contactItems.email.title"),content:t("contact.contactItems.email.content"),details:t("contact.contactItems.email.details")},{icon:J,title:t("contact.contactItems.hours.title"),content:t("contact.contactItems.hours.content"),details:t("contact.contactItems.hours.details")}],S=s=>{const a={},o=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,u=/^[\+]?[0-9\s\-\(\)]{10,}$/,p=s.get("nombre");(!p||p.trim().length<2)&&(a.nombre=t("contact.validation.nameRequired")||"El nombre debe tener al menos 2 caracteres");const N=s.get("email");N?o.test(N)||(a.email=t("contact.validation.emailInvalid")||"El formato del email no es válido"):a.email=t("contact.validation.emailRequired")||"El email es requerido";const b=s.get("telefono");b&&b.trim()!==""&&!u.test(b.replace(/\s/g,""))&&(a.telefono=t("contact.validation.phoneInvalid")||"El formato del teléfono no es válido");const v=s.get("asunto");(!v||v.trim().length<5)&&(a.asunto=t("contact.validation.subjectRequired")||"El asunto debe tener al menos 5 caracteres");const g=s.get("mensaje");return!g||g.trim().length<10?a.mensaje=t("contact.validation.messageRequired")||"El mensaje debe tener al menos 10 caracteres":g.trim().length>1e3&&(a.mensaje=t("contact.validation.messageTooLong")||"El mensaje no puede exceder los 1000 caracteres"),a},T=async s=>{if(s.preventDefault(),x(!0),h("idle"),!l.current)return;const a=new FormData(l.current),o=S(a);if(Object.keys(o).length>0){d(o),x(!1);return}d({});try{await fetch("/",{method:"POST",body:a,headers:{Accept:"application/json"}}),h("success"),l.current.reset(),setTimeout(()=>{window.location.href="/success.html"},2e3)}catch(u){console.error("Error enviando el formulario:",u),h("error")}finally{x(!1)}},r=s=>{n[s]&&d(a=>{const o={...a};return delete o[s],o})};return e.jsxs("section",{id:"contacto",className:"relative py-20 overflow-hidden bg-gray-50",children:[e.jsx("div",{className:`absolute inset-0 bg-[url('https://res.cloudinary.com/dinsl266g/image/upload/v1763072851/Tradiciones_h6vn7b.jpg')]\r
                   bg-cover bg-center opacity-85`,style:{clipPath:"polygon(0 0, 100% 0, 100% 50%, 0 100%)",filter:"blur(1.5px) brightness(0.75)"}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/30 via-gray-800/10 to-transparent"}),e.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl text-white font-semibold font-serif mb-4",children:t("contact.title")}),e.jsx("p",{className:"text-xl text-amber-200 max-w-3xl mx-auto",children:t("contact.subtitle")})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-16",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl text-white font-medium font-serif mb-8",children:t("contact.contactInfo")}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:E.map((s,a)=>e.jsxs(w,{className:"group hover:shadow-lg transition-shadow duration-300 bg-white/80 backdrop-blur-sm",children:[e.jsxs(y,{className:"flex flex-row items-center space-y-0 pb-2",children:[e.jsx("div",{className:"bg-blue-100 p-2 rounded-lg mr-3 group-hover:bg-blue-200 transition-colors duration-300",children:e.jsx(s.icon,{className:"h-5 w-5 text-blue-600"})}),e.jsx(F,{className:"text-lg font-medium font-serif text-gray-900",children:s.title})]}),e.jsxs(I,{children:[e.jsx("p",{className:"text-gray-900 mb-1",children:s.content}),e.jsx(C,{className:"text-sm",children:s.details})]})]},a))}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h4",{className:"text-xl text-white font-bold font-serif mb-4",children:t("contact.howToGetThere")}),e.jsxs("div",{className:"bg-white/90 p-6 rounded-lg shadow-md backdrop-blur-sm",children:[e.jsx(q,{src:"https://res.cloudinary.com/dinsl266g/image/upload/v1763052576/hero-home-image_anavv1.png",alt:"Mapa de ubicación de San Juan Tahitic",className:"w-full h-48 object-cover rounded-lg mb-4"}),e.jsx("p",{className:"text-gray-600 text-sm",children:t("contact.mapDescription")})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl text-white font-bold font-serif mb-8",children:t("contact.sendMessage")}),f==="success"&&e.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center",children:[e.jsx(O,{className:"h-5 w-5 text-green-500 mr-2"}),e.jsx("span",{className:"text-green-700 font-medium",children:t("contact.contactForm.successMessage")||"¡Mensaje enviado! Redirigiendo..."})]}),f==="error"&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center",children:[e.jsx(c,{className:"h-5 w-5 text-red-500 mr-2"}),e.jsx("span",{className:"text-red-700 font-medium",children:t("contact.contactForm.errorMessage")||"Error al enviar el mensaje. Por favor, inténtalo de nuevo."})]}),e.jsxs(w,{className:"shadow-lg bg-white/90 backdrop-blur-sm",children:[e.jsxs(y,{children:[e.jsx(F,{className:"text-gray-900 font-bold font-serif",children:t("contact.contactForm.title")}),e.jsx(C,{children:t("contact.contactForm.description")})]}),e.jsx(I,{children:e.jsxs("form",{ref:l,onSubmit:T,className:"space-y-6",noValidate:!0,name:"contacto-sanjuantahitic",method:"POST","data-netlify":"true","data-netlify-honeypot":"bot-field",children:[e.jsx("input",{type:"hidden",name:"form-name",value:"contacto-sanjuantahitic"}),e.jsx("input",{type:"hidden",name:"subject",value:"Nuevo mensaje de contacto - San Juan Tahitic"}),e.jsx("div",{className:"hidden",children:e.jsxs("label",{children:["No llenar este campo si eres humano:",e.jsx("input",{name:"bot-field"})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"nombre",className:"block text-sm text-gray-700 mb-2",children:[t("contact.contactForm.name")," *"]}),e.jsx(m,{id:"nombre",name:"nombre",required:!0,placeholder:t("contact.contactForm.namePlaceholder"),className:`w-full ${n.nombre?"border-red-500 focus:ring-red-500":""}`,onChange:()=>r("nombre")}),n.nombre&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(c,{className:"h-4 w-4 mr-1"}),n.nombre]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm text-gray-700 mb-2",children:[t("contact.contactForm.email")," *"]}),e.jsx(m,{id:"email",name:"email",type:"email",required:!0,placeholder:t("contact.contactForm.emailPlaceholder"),className:`w-full ${n.email?"border-red-500 focus:ring-red-500":""}`,onChange:()=>r("email")}),n.email&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(c,{className:"h-4 w-4 mr-1"}),n.email]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"telefono",className:"block text-sm text-gray-700 mb-2",children:t("contact.contactForm.phone")}),e.jsx(m,{id:"telefono",name:"telefono",type:"tel",placeholder:t("contact.contactForm.phonePlaceholder"),className:`w-full ${n.telefono?"border-red-500 focus:ring-red-500":""}`,onChange:()=>r("telefono")}),n.telefono&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(c,{className:"h-4 w-4 mr-1"}),n.telefono]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"asunto",className:"block text-sm text-gray-700 mb-2",children:[t("contact.contactForm.subject")," *"]}),e.jsx(m,{id:"asunto",name:"asunto",required:!0,placeholder:t("contact.contactForm.subjectPlaceholder"),className:`w-full ${n.asunto?"border-red-500 focus:ring-red-500":""}`,onChange:()=>r("asunto")}),n.asunto&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(c,{className:"h-4 w-4 mr-1"}),n.asunto]})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"mensaje",className:"block text-sm text-gray-700 mb-2",children:[t("contact.contactForm.message")," *"]}),e.jsx(R,{id:"mensaje",name:"mensaje",required:!0,rows:5,placeholder:t("contact.contactForm.messagePlaceholder"),className:`w-full ${n.mensaje?"border-red-500 focus:ring-red-500":""}`,onChange:()=>r("mensaje")}),n.mensaje&&e.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[e.jsx(c,{className:"h-4 w-4 mr-1"}),n.mensaje]})]}),e.jsx(P,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold font-serif disabled:opacity-50 disabled:cursor-not-allowed",disabled:j,children:j?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),t("contact.contactForm.sending")||"Enviando..."]}):t("contact.contactForm.submit")})]})})]}),e.jsxs("div",{className:"mt-8 bg-blue-50 p-6 rounded-lg",children:[e.jsx("h4",{className:"text-lg text-gray-900 font-bold font-serif mb-3",children:t("contact.additionalInfo")}),e.jsx("ul",{className:"space-y-2 text-sm font-medium font-serif text-gray-600",children:t("contact.additionalItems").map((s,a)=>e.jsxs("li",{children:["• ",s]},a))})]})]})]})]})]})}export{Q as ContactSection};
